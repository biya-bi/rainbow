<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core">

<p:dialog id="setPasswordDialog" widgetVar="setPasswordDialog"
	modal="false" resizable="false" appendTo="@(content)"
	header="#{labels.SetPasswordTitle}">
	<h:form id="setPasswordForm">
		<h:panelGroup id="panelGroup">
			<p:messages id="msg" globalOnly="true" />
			<p:panelGrid rendered="#{setPasswordController != null}">
				<f:facet name="header">
					<p:row>
						<p:column colspan="3">
							<p:panelGrid columns="2" styleClass="ui-panelgrid-blank">
								<p:commandButton id="Header_SubmitButton" validateClient="true"
									icon="ui-icon-disk" value="#{labels.Save}" update="panelGroup"
									oncomplete="if (!args.validationFailed &amp;&amp; args.committed) handleSubmit(args,'setPasswordDialog');"
									action="#{setPasswordController.setPassword}" />
								<p:commandButton id="Header_CancelButton" icon="ui-icon-close"
									value="#{labels.Cancel}"
									onclick="PF('setPasswordDialog').hide()" immediate="true" />
							</p:panelGrid>
						</p:column>
					</p:row>
				</f:facet>
				<f:facet name="footer">
					<p:row>
						<p:column colspan="3">
							<p:panelGrid columns="2" styleClass="ui-panelgrid-blank">
								<p:commandButton id="Footer_SubmitButton" validateClient="true"
									icon="ui-icon-disk" value="#{labels.Save}" update="panelGroup"
									oncomplete="if (!args.validationFailed &amp;&amp; args.committed) handleSubmit(args,'setPasswordDialog');"
									action="#{setPasswordController.setPassword}" />
								<p:commandButton id="Footer_CancelButton" icon="ui-icon-close"
									value="#{labels.Cancel}"
									onclick="PF('setPasswordDialog').hide()" immediate="true" />
							</p:panelGrid>
						</p:column>
					</p:row>
				</f:facet>
				<p:row>
					<p:column>
						<p:outputLabel styleClass="field-label"
							value="#{labels.UserNameLabel}" for="userName" />
					</p:column>
					<p:column>
						<h:outputText styleClass="field-value" id="userName"
							value="#{setPasswordController.userName}"
							title="#{labels.UserNameTitle}" />
					</p:column>
					<p:column />
					<p:column>
						<p:message for="userName" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<p:outputLabel value="#{secLabels.PasswordLabel}"
							styleClass="field-label" for="password" />
					</p:column>
					<p:column>
						<p:password id="password" match="confirmPassword"
							validatorMessage="#{secValMsg.PasswordAndConfirmPasswordMismatch}"
							value="#{setPasswordController.password}" required="true"
							requiredMessage="#{secValMsg.PasswordRequired}"
							styleClass="field-value" title="#{secLabels.PasswordTitle}">
							<p:clientValidator event="keyup" />
						</p:password>
					</p:column>
					<p:column>
						<p:message for="password" />
					</p:column>
				</p:row>

				<p:row>
					<p:column>
						<p:outputLabel value="#{secLabels.ConfirmPasswordLabel}"
							styleClass="field-label" for="confirmPassword" />
					</p:column>
					<p:column>
						<p:password id="confirmPassword"
							value="#{setPasswordController.password}" required="true"
							requiredMessage="#{secValMsg.ConfirmPasswordRequired}"
							styleClass="field-value"
							title="#{secLabels.ConfirmPasswordTitle}">
							<p:clientValidator event="keyup" />
						</p:password>
					</p:column>
					<p:column>
						<p:message for="confirmPassword" />
					</p:column>
				</p:row>
			</p:panelGrid>
		</h:panelGroup>
	</h:form>
</p:dialog>
</html>

